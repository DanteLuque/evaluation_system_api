CREATE DATABASE APRENDE_PERU;
USE APRENDE_PERU;

CREATE TABLE AREAS(
	ID				INT	AUTO_INCREMENT PRIMARY KEY,
    NOMBRE_AREA 	VARCHAR(30) NOT NULL,
	created_at 		DATETIME,
    updated_at 		DATETIME,
    deleted_at 		DATETIME
)ENGINE=INNODB;

CREATE TABLE ALUMNOS(
	ID			INT AUTO_INCREMENT PRIMARY KEY,
    NOMBRES 	VARCHAR(70) NOT NULL,
    APELLIDOS 	VARCHAR(70) NOT NULL,
    DNI         CHAR(8) NOT NULL,
    created_at 		DATETIME,
    updated_at 		DATETIME,
    deleted_at 		DATETIME
)ENGINE=INNODB;

CREATE TABLE EVALUACIONES(
	ID					INT AUTO_INCREMENT PRIMARY KEY,
    ID_AREA				INT NOT NULL,
    FECHA_INICIO 		DATETIME NOT NULL,
    FECHA_FIN			DATETIME NOT NULL,
    TIEMPO_DESARROLLO	INT,
    created_at 			DATETIME,
    updated_at 			DATETIME,
    deleted_at 			DATETIME,
    FOREIGN KEY(ID_AREA) REFERENCES AREAS(ID)
)ENGINE=INNODB;

CREATE TABLE PREGUNTAS(
	ID				INT AUTO_INCREMENT PRIMARY KEY,
    ENUNCIADO		TEXT NOT NULL,
    PUNTAJE			DECIMAL(4,2) UNSIGNED NOT NULL,
    ID_EVALUACION	INT NOT NULL,
    created_at 		DATETIME,
    updated_at 		DATETIME,
    deleted_at 		DATETIME,
    FOREIGN KEY(ID_EVALUACION) REFERENCES EVALUACIONES(ID)
)ENGINE=INNODB;

CREATE TABLE ALTERNATIVAS(
	ID				INT AUTO_INCREMENT PRIMARY KEY,
    ENUNCIADO		TEXT NOT NULL,
    ES_CORRECTA		BOOLEAN NOT NULL,
    ID_PREGUNTA 	INT NOT NULL,
    created_at 		DATETIME,
    updated_at 		DATETIME,
    deleted_at 		DATETIME,
    FOREIGN KEY(ID_PREGUNTA) REFERENCES PREGUNTAS(ID)
)ENGINE=INNODB;

CREATE TABLE DESARROLLO_EVALUACION(
	ID					INT AUTO_INCREMENT PRIMARY KEY,
    ID_ALUMNO 			INT NOT NULL,
    ID_EVALUACION 		INT NOT NULL,
    CALIFICACION 		DECIMAL(4,2) NULL,
    ESTA_DESARROLLADO 	BOOLEAN NOT NULL,
    FECHA_INICIO 		DATETIME NULL,
    FECHA_FIN			DATETIME NULL,
    created_at 			DATETIME,
    updated_at 			DATETIME,
    deleted_at 			DATETIME,
    FOREIGN KEY(ID_ALUMNO) REFERENCES ALUMNOS(ID),
    FOREIGN KEY(ID_EVALUACION) REFERENCES EVALUACIONES(ID)
)ENGINE=INNODB;